; PlatformIO Project Configuration File
;
; Drone Detector - T-Beam Supreme
; https://github.com/Xinyuan-LilyGO/LilyGo-LoRa-Series
;
; ESP32-S3 with SX1262 LoRa Radio

[env:tbeam-supreme]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; Board configuration for T-Beam Supreme
board_build.mcu = esp32s3
board_build.f_cpu = 240000000L

; Upload and monitor settings
monitor_speed = 115200
upload_speed = 921600

; Build flags
build_flags = 
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DBOARD_HAS_PSRAM
    ; SX1262 Radio pins for T-Beam Supreme
    -DRADIO_CS=10
    -DRADIO_DIO1=33
    -DRADIO_RST=5
    -DRADIO_BUSY=34
    ; GPS pins
    -DGPS_RX=1
    -DGPS_TX=2
    ; TFT_eSPI configuration for external TFT display
    ; Using ST7789 driver (common for LILYGO displays)
    -DUSER_SETUP_LOADED=1
    -DST7789_DRIVER=1
    -DTFT_WIDTH=135
    -DTFT_HEIGHT=240
    -DTFT_MOSI=19
    -DTFT_SCLK=18
    -DTFT_CS=5
    -DTFT_DC=16
    -DTFT_RST=23
    -DTFT_BL=4
    -DLOAD_GLCD=1
    -DLOAD_FONT2=1
    -DLOAD_FONT4=1
    -DLOAD_GFXFF=1
    -DSPI_FREQUENCY=40000000
    ; Enable RadioLib debug if needed
    ; -DRADIOLIB_DEBUG

; Dependencies
lib_deps = 
    jgromes/RadioLib@^7.1.1
    mikalhart/TinyGPSPlus@^1.1.0
    bodmer/TFT_eSPI@^2.5.43
